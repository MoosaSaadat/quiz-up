(this["webpackJsonpquiz-up"]=this["webpackJsonpquiz-up"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){e.exports=a(56)},39:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),s=(a(39),a(33)),i=a(10),u=a(2),l=a(4),m=a(8),f="/",p="/signup",b="/login",h="/:category",d="/:category/game",g="/users",E=Object(n.createContext)(null),O=function(e){return function(t){return r.a.createElement(E.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},v=E,j=a(11),y=a(19),N=a.n(y),w=(a(40),a(42),a(45),{apiKey:"AIzaSyCTqXfHWyKfWJWCdkppfOOBA2Pv07YGXKQ",authDomain:"quiz-up-devtest.firebaseapp.com",databaseURL:"https://quiz-up-devtest.firebaseio.com",projectId:"quiz-up-devtest",storageBucket:"quiz-up-devtest.appspot.com",messagingSenderId:"521065956014"}),S=function e(){var t=this;Object(j.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},N.a.initializeApp(w),this.auth=N.a.auth(),this.db=N.a.firestore()},k=Object(n.createContext)(null),P=a(15),C=a(17),q=a(16),D=a(18),L=function(e){var t=function(t){function a(e){var t;return Object(j.a)(this,a),(t=Object(C.a)(this,Object(q.a)(a).call(this,e))).state={authUser:null},t}return Object(D.a)(a,t),Object(P.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(k.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return O(t)},I=function(e){return function(t){var a=function(a){function n(){return Object(j.a)(this,n),Object(C.a)(this,Object(q.a)(n).apply(this,arguments))}return Object(D.a)(n,a),Object(P.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push(b)}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(k.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),n}(r.a.Component);return Object(m.g)(O(a))}};a(52);var U=O((function(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar-list"},r.a.createElement("li",{className:"navbar-item logo"},r.a.createElement(l.b,{to:f,className:"navbar-link"},"QUIZ UP")),r.a.createElement(k.Consumer,null,(function(t){return t&&r.a.createElement("li",{className:"navbar-item"},r.a.createElement("button",{type:"button",onClick:e.firebase.doSignOut},"Log Out"))}))))}));a(27);var A=Object(m.g)(O((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),m=i[0],p=i[1],h=Object(n.useState)(""),d=Object(u.a)(h,2),g=d[0],E=d[1],O=Object(n.useState)(null),v=Object(u.a)(O,2),j=v[0],y=v[1];return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",{className:"form-heading"},"Sign Up"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.firebase.doCreateUserWithEmailAndPassword(m,g).then(void e.firebase.db.collection("users").add({name:c,email:m,highScore:0}).then((function(){o(""),p(""),E(""),e.history.push(f)})).catch((function(e){y(e)}))).catch((function(e){y(e)}))},className:"form login"},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"fas fa-envelope"}),r.a.createElement("input",{type:"email",placeholder:"Email",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"fas fa-key"}),r.a.createElement("input",{type:"password",placeholder:"Password",value:g,onChange:function(e){return E(e.target.value)}})),r.a.createElement("button",{className:"form-btn",type:"submit"},"Sign Up"),j&&r.a.createElement("p",{className:"form-error"},j.message)),r.a.createElement("h4",null,"Already have and account? Log In:"),r.a.createElement(l.b,{to:b},"Log In"))})));var W=Object(m.g)(O((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),m=i[0],b=i[1],h=Object(n.useState)(null),d=Object(u.a)(h,2),g=d[0],E=d[1];return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",{className:"form-heading"},"Log In"),r.a.createElement("form",{onSubmit:function(t){e.firebase.doSignInWithEmailAndPassword(c,m).then((function(t){o(""),b(""),e.history.push(f)})).catch((function(e){E(e)})),t.preventDefault()},className:"form login"},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"fas fa-envelope"}),r.a.createElement("input",{type:"email",placeholder:"Email",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"fas fa-key"}),r.a.createElement("input",{type:"password",placeholder:"Password",value:m,onChange:function(e){return b(e.target.value)}})),r.a.createElement("button",{className:"form-btn",type:"submit"},"Log In"),g&&r.a.createElement("p",{className:"form-error"},g.message)),r.a.createElement("h4",null,"Don't have an account? Sign Up:"),r.a.createElement(l.b,{to:p},"Sign Up"))})));a(53);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var z=I((function(e){return!!e}))((function(e){var t=Object(m.f)().category,a=e.ctgList.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()}))[0].questions,c=Object(n.useState)(60),o=Object(u.a)(c,2),s=o[0],l=o[1],p=Object(n.useState)(0),b=Object(u.a)(p,2),h=b[0],d=b[1],g=Object(n.useState)(0),E=Object(u.a)(g,2),O=E[0],v=E[1];Object(n.useEffect)((function(){var e=setInterval((function(){l((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(n.useEffect)((function(){if(s<=-3)e.history.push(f);else if(s<=0){var t=e.firebase.auth.currentUser;t&&j(t)}}),[s]);var j=function(t){e.firebase.db.collection("users").get().then((function(e){var a=[];e.forEach((function(e){a.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({key:e.id},e.data()))})),(a=a.filter((function(e){return e.email===t.email})))[0].highScore<h&&y(a[0].key)})).catch((function(e){console.log("Error getting documents: ",e)}))},y=function(t){e.firebase.db.collection("users").doc(t).update({highScore:h})},N=function(e){e.target.name===a[O].correctAns&&d((function(e){return e+10})),w()},w=function(){O===a.length-1?v(0):v((function(e){return e+1}))},S=a[O].answers.map((function(e,t){return r.a.createElement("button",{onClick:N,key:t,name:t,className:"answer"},e)}));return s>0?r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:"info-container"},r.a.createElement("h2",{className:"time"},"Remaining Time: ",s,"s"),r.a.createElement("h2",{className:"score"},"Score: ",h)),r.a.createElement("div",{className:"question"},a[O].ques),r.a.createElement("div",{className:"answer-container"},S)):r.a.createElement("div",{className:"game-container"},r.a.createElement("h2",{className:"score"},"Score: ",h),r.a.createElement("div",{className:"question"},"GAME OVER!"))}));a(28);var B=O((function(e){var t=Object(n.useState)(e.name),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""===e.name),i=Object(u.a)(s,2),m=i[0],f=i[1];Object(n.useEffect)((function(){c!==e.name&&e.firebase.db.collection("categories").doc(e.docId).update({name:c})}),[c]);var p=m?r.a.createElement("input",{type:"text",className:"name-input",value:c,onChange:function(e){return o(e.target.value)},onBlur:function(){return f(!1)},onKeyDown:function(e){13===e.keyCode&&f(!1)},autoFocus:!0}):r.a.createElement("h2",{className:"name"},c);return r.a.createElement("li",{className:"category-item"},r.a.createElement(l.b,{className:"category-link",to:"/".concat(e.name.toLowerCase())},p),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"edit",onClick:function(){return f(!0)}},r.a.createElement("i",{className:"fas fa-pen"})),r.a.createElement("button",{className:"delete",onClick:function(){e.firebase.db.collection("categories").doc(e.docId).delete()}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}));var G=I((function(e){return!!e}))((function(e){var t=e.ctgList.map((function(e){return r.a.createElement(B,{key:e.key,docId:e.key,name:e.name})}));return r.a.createElement("div",{className:"category-wrapper"},r.a.createElement("h1",{className:"category-heading"},"Categories"),r.a.createElement("ul",{className:"category-list"},t),r.a.createElement("button",{onClick:e.addCtg,className:"category-addnew"},"Add New"))}));a(29);var K=O((function(e){var t=Object(n.useState)(e.ques),a=Object(u.a)(t,2),c=a[0],o=(a[1],Object(n.useState)(e.answers)),s=Object(u.a)(o,2),i=s[0];return s[1],r.a.createElement("div",{className:"question-wrapper"},r.a.createElement("h2",{className:"question"},c),r.a.createElement("ul",{className:"answers-list"},i.map((function(e,t){return r.a.createElement("li",{key:t,className:"answers-item"},r.a.createElement("div",{className:"answers-link"},e))}))))}));var J=I((function(e){return!!e}))((function(e){var t=Object(m.f)().category,a=e.ctgList.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()}))[0].questions.map((function(e,t){return r.a.createElement(K,{key:t,ques:e.ques,answers:e.answers})}));return r.a.createElement("div",{className:"questions-list"},r.a.createElement("h2",{className:"questions-heading"},"Questions Stored in ",t),r.a.createElement(l.b,{to:"/".concat(t.toLowerCase(),"/game"),className:"play-game"},"Click to Play Game for this Category"),a)}));a(54);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Q=I((function(e){return!!e}))((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){e.firebase.db.collection("users").get().then((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({key:e.id},e.data()))})),o(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),console.log(c);var s=c.map((function(e){return r.a.createElement("li",{className:"user-item"},r.a.createElement("h3",null,"Name: ",e.name),r.a.createElement("h3",null,"Email: ",e.email),r.a.createElement("h3",null,"High Score: ",e.highScore))}));return r.a.createElement("div",{className:"users-container"},r.a.createElement("h1",{class:"users-heading"},"Users"),c&&0!==c.length?r.a.createElement("ul",{className:"users-list"},s):"LOADING...")}));a(55);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=L((function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){e.firebase.db.collection("categories").get().then((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({key:e.id},e.data()))})),o(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[c]);var E=function(){e.firebase.db.collection("categories").add({name:"",questions:[]}),o((function(e){return[].concat(Object(s.a)(e),[{name:""}])}))};return!!c&&r.a.createElement(l.a,null,r.a.createElement(U,null),r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:f,render:function(e){return r.a.createElement(G,Object.assign({ctgList:c,addCtg:E},e))}}),r.a.createElement(m.a,{exact:!0,path:p,component:A}),r.a.createElement(m.a,{exact:!0,path:b,component:W}),r.a.createElement(m.a,{exact:!0,path:g,component:Q}),r.a.createElement(m.a,{exact:!0,path:h,render:function(e){return r.a.createElement(J,Object.assign({ctgList:c},e))}}),r.a.createElement(m.a,{exact:!0,path:d,render:function(e){return r.a.createElement(z,Object.assign({ctgList:c},e))}}),r.a.createElement(m.a,{path:f,component:G}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v.Provider,{value:new S},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.b0fb0c48.chunk.js.map