{"version":3,"sources":["Constants/Routes.js","Components/Firebase/context.js","Components/Firebase/firebase.js","Components/Firebase/index.js","Components/Session/context.js","Components/Session/withAuthentication.js","Components/Session/withAuthorization.js","Components/Navbar.js","Components/SignUpForm.js","Components/LogInForm.js","Components/Game.js","Components/CategoryItem.js","Components/CategoryList.js","Components/PortalQuestionsItem.js","Components/PortalQuestionsList.js","Components/PortalUsers.js","App.js","serviceWorker.js","index.js"],"names":["HOME","SIGN_UP","LOG_IN","QUESTIONS","GAME","PORTAL_USERS","FirebaseContext","createContext","withFirebase","Component","props","Consumer","firebase","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","user","uid","db","ref","users","app","initializeApp","this","firestore","AuthUserContext","withAuthentication","WithAuthentication","state","authUser","listener","onAuthStateChanged","setState","Provider","value","React","withAuthorization","condition","WithAuthorization","history","push","ROUTES","withRouter","className","to","userIsAdmin","type","onClick","useState","name","setName","setEmail","setPassword","error","setError","onSubmit","e","preventDefault","then","collection","add","isAdmin","highScore","catch","placeholder","onChange","event","target","message","currCtg","useParams","category","questions","ctgList","filter","ctg","toLowerCase","time","setTime","score","setScore","currQues","setCurrQues","useEffect","myTimer","setInterval","old","clearInterval","currentUser","updateUserData","get","querySnapshot","newList","forEach","doc","key","id","data","item","updateDocument","console","log","documentId","update","handleClick","correctAns","oldScore","changeQuestion","length","answersList","answers","map","ans","idx","ques","isEditing","setIsEditing","updateItem","docId","toggleFetchData","nameInput","onBlur","onKeyDown","keyCode","autoFocus","linktoCatOptions","delete","newCtgForm","showForm","setShowForm","allCategories","submitForm","addCtg","setQues","setAnswers","corrAns","setCorrAns","newQues","updateQuestion","fullString","newAnswers","split","makeAnswersArray","deleteQuestion","answer","ctgDoc","ctgDocId","setNewQues","newAns","setNewAns","newCorrAns","setNewCorrAns","setQuestions","questionsList","newQuesForm","nextKey","addQuestion","setUsers","usersList","class","allData","setAllData","isDataLoading","setDataLoading","fetchData","setFetchData","setUserIsAdmin","currUser","sort","a","b","localeCompare","oldData","newItemName","newDoc","set","queskey","exact","path","render","routeProps","component","SignUpForm","Users","CategoryList","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"sYACaA,EAAO,IACPC,EAAU,UACVC,EAAS,SACTC,EAAY,aACZC,EAAO,kBAIPC,EAAe,SCPtBC,EAAkBC,wBAAc,MAEzBC,EAAe,SAACC,GAAD,OAAe,SAACC,GAAD,OAC1C,kBAACJ,EAAgBK,SAAjB,MACE,SAACC,GAAD,OAAc,kBAACH,EAAD,iBAAeC,EAAf,CAAsBE,SAAUA,UAIlCN,I,yBCLTO,G,kBAAS,CACdC,OAAQC,0CACRC,WAAYD,kCACZE,YAAaF,yCACbG,UAAWH,kBACXI,cAAeJ,8BACfK,kBAAmBL,iBCRLM,EDYd,aAAgB,IAAD,gCAMfC,iCAAmC,SAACC,EAAOC,GAAR,OAClC,EAAKC,KAAKC,+BAA+BH,EAAOC,IAPlC,KASfG,6BAA+B,SAACJ,EAAOC,GAAR,OAC9B,EAAKC,KAAKG,2BAA2BL,EAAOC,IAV9B,KAYfK,UAAY,kBAAM,EAAKJ,KAAKK,WAZb,KAcfC,KAAO,SAACC,GAAD,OAAS,EAAKC,GAAGC,IAAR,gBAAqBF,KAdtB,KAefG,MAAQ,kBAAM,EAAKF,GAAGC,IAAI,UAdzBE,IAAIC,cAAcxB,GAClByB,KAAKb,KAAOW,IAAIX,OAChBa,KAAKL,GAAKG,IAAIG,aEfDC,EAFSjC,wBAAc,M,gCCwCvBkC,EApCY,SAAChC,GAAe,IACpCiC,EADmC,YAExC,WAAahC,GAAQ,IAAD,8BACnB,4CAAMA,KAEDiC,MAAQ,CACZC,SAAU,MAJQ,EAFoB,iFAUlB,IAAD,OACpBN,KAAKO,SAAWP,KAAK5B,MAAME,SAASa,KAAKqB,oBACxC,SAACF,GACAA,EACG,EAAKG,SAAS,CAAEH,aAChB,EAAKG,SAAS,CAAEH,SAAU,YAfQ,6CAqBvCN,KAAKO,aArBkC,+BAyBvC,OACC,kBAAC,EAAgBG,SAAjB,CAA0BC,MAAOX,KAAKK,MAAMC,UAC3C,kBAACnC,EAAc6B,KAAK5B,YA3BiB,GACRwC,IAAMzC,WAgCvC,OAAOD,EAAakC,ICFNS,EA7BW,SAACC,GAAD,OAAe,SAAC3C,GAAe,IAClD4C,EADiD,4LAEhC,IAAD,OACpBf,KAAKO,SAAWP,KAAK5B,MAAME,SAASa,KAAKqB,oBACxC,SAACF,GACKQ,EAAUR,IACd,EAAKlC,MAAM4C,QAAQC,KAAKC,QAN0B,6CAarDlB,KAAKO,aAbgD,+BAgB3C,IAAD,OACT,OACC,kBAAC,EAAgBlC,SAAjB,MACE,SAACiC,GAAD,OACAQ,EAAUR,GAAY,kBAACnC,EAAc,EAAKC,OAAY,YApBJ,GACvBwC,IAAMzC,WAyBtC,OAAOgD,YAAWjD,EAAa6C,M,MCMjB7C,SA/Bf,SAAiBE,GAChB,OACC,yBAAKgD,UAAU,UACd,wBAAIA,UAAU,eACb,wBAAIA,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAIH,EAAaE,UAAU,eAAjC,YAIAhD,EAAMkD,aACN,wBAAIF,UAAU,eACb,kBAAC,IAAD,CAAMC,GAAIH,EAAqBE,UAAU,iBAAzC,eAIC,IACH,kBAAC,EAAgB/C,SAAjB,MACE,SAACiC,GAAD,OACAA,GACC,wBAAIc,UAAU,eACb,4BAAQG,KAAK,SAASC,QAASpD,EAAME,SAASiB,WAA9C,oB,MCyDO4B,kBAAWjD,GA9E1B,SAAqBE,GAAQ,IAAD,EACDqD,mBAAS,IADR,mBACnBC,EADmB,KACbC,EADa,OAECF,mBAAS,IAFV,mBAEnBxC,EAFmB,KAEZ2C,EAFY,OAGOH,mBAAS,IAHhB,mBAGnBvC,EAHmB,KAGT2C,EAHS,OAICJ,mBAAS,MAJV,mBAInBK,EAJmB,KAIZC,EAJY,KAoC3B,OACC,yBAAKX,UAAU,gBACd,wBAAIA,UAAU,gBAAd,WACA,0BAAMY,SAbR,SAAqBC,GACpBA,EAAEC,iBACF9D,EAAME,SACJU,iCAAiCC,EAAOC,GACxCiD,UAvBF/D,EAAME,SAASqB,GACbyC,WAAW,SACXC,IAAI,CACJX,OACAzC,QACAqD,SAAS,EACTC,UAAW,IAEXJ,MAAK,WACLR,EAAQ,IACRC,EAAS,IACTC,EAAY,IACZzD,EAAM4C,QAAQC,KAAKC,MAEnBsB,OAAM,SAACV,GACPC,EAASD,OASTU,OAAM,SAACV,GACPC,EAASD,OAOkBV,UAAU,cACrC,yBAAKA,UAAU,eACd,uBAAGA,UAAU,gBACb,2BACCG,KAAK,OACLkB,YAAY,OACZ9B,MAAOe,EACPgB,SAAU,SAACC,GAAD,OAAWhB,EAAQgB,EAAMC,OAAOjC,WAG5C,yBAAKS,UAAU,eACd,uBAAGA,UAAU,oBACb,2BACCG,KAAK,QACLkB,YAAY,QACZ9B,MAAO1B,EACPyD,SAAU,SAACC,GAAD,OAAWf,EAASe,EAAMC,OAAOjC,WAG7C,yBAAKS,UAAU,eACd,uBAAGA,UAAU,eACb,2BACCG,KAAK,WACLkB,YAAY,WACZ9B,MAAOzB,EACPwD,SAAU,SAACC,GAAD,OAAWd,EAAYc,EAAMC,OAAOjC,WAGhD,4BAAQS,UAAU,WAAWG,KAAK,UAAlC,WAGCO,GAAS,uBAAGV,UAAU,cAAcU,EAAMe,UAE5C,iEACA,kBAAC,IAAD,CAAMxB,GAAIH,GAAV,eCrBYC,kBAAWjD,GApD1B,SAAoBE,GAAQ,IAAD,EACEqD,mBAAS,IADX,mBAClBxC,EADkB,KACX2C,EADW,OAEQH,mBAAS,IAFjB,mBAElBvC,EAFkB,KAER2C,EAFQ,OAGEJ,mBAAS,MAHX,mBAGlBK,EAHkB,KAGXC,EAHW,KAmB1B,OACC,yBAAKX,UAAU,gBACd,wBAAIA,UAAU,gBAAd,UACA,0BAAMY,SAjBR,SAAqBC,GACpB7D,EAAME,SACJe,6BAA6BJ,EAAOC,GACpCiD,MAAK,SAAC7B,GACNsB,EAAS,IACTC,EAAY,IACZzD,EAAM4C,QAAQC,KAAKC,MAEnBsB,OAAM,SAACV,GACPC,EAASD,MAEXG,EAAEC,kBAM2Bd,UAAU,cACrC,yBAAKA,UAAU,eACd,uBAAGA,UAAU,oBACb,2BACCG,KAAK,QACLkB,YAAY,QACZ9B,MAAO1B,EACPyD,SAAU,SAACC,GAAD,OAAWf,EAASe,EAAMC,OAAOjC,WAG7C,yBAAKS,UAAU,eACd,uBAAGA,UAAU,eACb,2BACCG,KAAK,WACLkB,YAAY,WACZ9B,MAAOzB,EACPwD,SAAU,SAACC,GAAD,OAAWd,EAAYc,EAAMC,OAAOjC,WAGhD,4BAAQS,UAAU,WAAWG,KAAK,UAAlC,UAGCO,GAAS,uBAAGV,UAAU,cAAcU,EAAMe,UAE5C,+DACA,kBAAC,IAAD,CAAMxB,GAAIH,GAAV,gB,oOC0CH,IAEeL,KAFG,SAACP,GAAD,QAAgBA,IAEnBO,EA3Ff,SAAezC,GACd,IAAM0E,EAAUC,cAAYC,SACtBC,EAAY7E,EAAM8E,QAAQC,QAC/B,SAACC,GAAD,OAASA,EAAI1B,KAAK2B,gBAAkBP,EAAQO,iBAC3C,GAAGJ,UAJgB,EAMKxB,mBAAS,IANd,mBAMb6B,EANa,KAMPC,EANO,OAOO9B,mBAAS,GAPhB,mBAOb+B,EAPa,KAONC,EAPM,OAQahC,mBAAS,GARtB,mBAQbiC,EARa,KAQHC,EARG,KAUrBC,qBAAU,WACT,IAAIC,EAAUC,aAAY,WACzBP,GAAQ,SAACQ,GAAD,OAASA,EAAM,OACrB,KAEH,OAAO,kBAAMC,cAAcH,MACzB,IAEHD,qBACC,WACC,GAAIN,IAAS,EAAGlF,EAAM4C,QAAQC,KAAKC,QAC9B,GAAIoC,GAAQ,EAAG,CACnB,IAAI7D,EAAOrB,EAAME,SAASa,KAAK8E,YAC3BxE,GACHyE,EAAezE,MAIlB,CAAE6D,IAGH,IAAMY,EAAiB,SAACzE,GACvBrB,EAAME,SAASqB,GACbyC,WAAW,SACX+B,MACAhC,MAAK,SAAUiC,GACf,IAAIC,EAAU,GACdD,EAAcE,SAAQ,SAAUC,GAC/BF,EAAQpD,K,yVAAR,EAAeuD,IAAKD,EAAIE,IAAOF,EAAIG,aAEpCL,EAAUA,EAAQlB,QAAO,SAACwB,GAAD,OAAUA,EAAK1F,QAAUQ,EAAKR,UAC3C,GAAGsD,UAAYiB,GAAOoB,EAAeP,EAAQ,GAAGG,QAE5DhC,OAAM,SAAUV,GAChB+C,QAAQC,IAAI,4BAA6BhD,OAItC8C,EAAiB,SAACG,GACvB3G,EAAME,SAASqB,GAAGyC,WAAW,SAASmC,IAAIQ,GAAYC,OAAO,CAC5DzC,UAAWiB,KAIPyB,EAAc,SAAChD,GAChBA,EAAEW,OAAOlB,OAASuB,EAAUS,GAAUwB,YACzCzB,GAAS,SAAC0B,GAAD,OAAcA,EAAW,MAEnCC,KAGKA,EAAiB,WAClB1B,IAAaT,EAAUoC,OAAS,EAAG1B,EAAY,GAC9CA,GAAY,SAACI,GAAD,OAASA,EAAM,MAG3BuB,EAAcrC,EAAUS,GAAU6B,QAAQC,KAAI,SAACC,EAAKC,GAAN,OACnD,4BAAQlE,QAASyD,EAAaT,IAAKkB,EAAKhE,KAAMgE,EAAKtE,UAAU,UAC3DqE,MAIH,OAAOnC,EAAO,EACb,yBAAKlC,UAAU,kBACd,yBAAKA,UAAU,kBACd,wBAAIA,UAAU,QAAd,mBAAsCkC,EAAtC,KACA,wBAAIlC,UAAU,SAAd,UAA8BoC,IAE/B,yBAAKpC,UAAU,YAAY6B,EAAUS,GAAUiC,MAC/C,yBAAKvE,UAAU,oBAAoBkE,IAGpC,yBAAKlE,UAAU,kBACd,wBAAIA,UAAU,SAAd,UAA8BoC,GAC9B,yBAAKpC,UAAU,YAAf,kB,MC5BYlD,SAzDf,SAAuBE,GAAQ,IAAD,EACHqD,mBAASrD,EAAMsD,MADZ,mBACrBA,EADqB,KACfC,EADe,OAEOF,oBAAS,GAFhB,mBAErBmE,EAFqB,KAEVC,EAFU,KASvBC,EAAa,WACdpE,IAAStD,EAAMsD,MAClBtD,EAAME,SAASqB,GAAGyC,WAAW,cAAcmC,IAAInG,EAAM2H,OAAOf,OAAO,CAClEtD,SAEFmE,GAAa,GACbzH,EAAM4H,mBAGDC,EAAYL,EACjB,2BACCrE,KAAK,OACLH,UAAU,aACVT,MAAOe,EACPgB,SAAU,SAACC,GAAD,OAAWhB,EAAQgB,EAAMC,OAAOjC,QAC1CuF,OAAQ,kBAAMJ,KACdK,UAAW,SAACxD,GACW,KAAlBA,EAAMyD,SAAgBN,KAE3BO,WAAS,IAGV,wBAAIjF,UAAU,QAAQM,GAGjB4E,EAAmBlI,EAAMkD,YAAN,WAClBlD,EAAMsD,KAAK2B,eADO,WAElBjF,EAAMsD,KAAK2B,cAFO,SAIzB,OACC,wBAAIjC,UAAU,iBACb,kBAAC,IAAD,CAAMA,UAAU,gBAAgBC,GAAIiF,GAClCL,GAED7H,EAAMkD,aACN,yBAAKF,UAAU,WACd,4BAAQA,UAAU,OAAOI,QAAS,kBAAMqE,GAAa,KACpD,uBAAGzE,UAAU,gBAEd,4BAAQA,UAAU,SAASI,QA5CZ,WAClBpD,EAAME,SAASqB,GAAGyC,WAAW,cAAcmC,IAAInG,EAAM2H,OAAOQ,SAC5DnI,EAAM4H,oBA2CF,uBAAG5E,UAAU,2BCanB,IAEeP,KAFG,SAACP,GAAD,QAAgBA,IAEnBO,EAhEf,SAAuBzC,GAAQ,IAoB1BoI,EApByB,EACK/E,oBAAS,GADd,mBACrBgF,EADqB,KACXC,EADW,OAEHjF,mBAAS,IAFN,mBAErBC,EAFqB,KAEfC,EAFe,KAIvBgF,EAAgBvI,EAAM8E,QAAQsC,KAAI,SAACb,GAAD,OACvC,kBAAC,EAAD,CACCH,IAAKG,EAAKH,IACVuB,MAAOpB,EAAKH,IACZ9C,KAAMiD,EAAKjD,KACXJ,YAAalD,EAAMkD,YACnB0E,gBAAiB5H,EAAM4H,qBAInBY,EAAa,WAClBF,GAAY,GACZtI,EAAMyI,OAAOnF,GACbC,EAAQ,KAoCT,OAhCIvD,EAAMkD,aAAemF,EACxBD,EACC,wBAAIpF,UAAU,iBACb,2BACCG,KAAK,OACLH,UAAU,aACVT,MAAOe,EACPgB,SAAU,SAACC,GAAD,OAAWhB,EAAQgB,EAAMC,OAAOjC,QAC1CuF,OAAQU,EACRT,UAAW,SAACxD,GACW,KAAlBA,EAAMyD,SACTQ,KAGFP,WAAS,IAEV,yBAAKjF,UAAU,WACd,4BAAQA,UAAU,OAAOI,QAASoF,GACjC,uBAAGxF,UAAU,mBAMThD,EAAMkD,cAAgBmF,IAC9BD,EACC,4BAAQhF,QAAS,kBAAMkF,GAAY,IAAOtF,UAAU,mBAApD,YAOD,yBAAKA,UAAU,oBACd,wBAAIA,UAAU,oBAAd,cACA,wBAAIA,UAAU,iBAAiBuF,GAC9BH,M,cCqBWtI,SA/Ef,SAA8BE,GAAQ,IAAD,EACVqD,mBAASrD,EAAMuH,MADL,mBAC5BA,EAD4B,KACtBmB,EADsB,OAEJrF,mBAASrD,EAAMmH,SAFX,mBAE5BA,EAF4B,KAEnBwB,EAFmB,OAGJtF,mBAASrD,EAAM4I,SAHX,mBAG5BA,EAH4B,KAGnBC,EAHmB,OAIAxF,oBAAS,GAJT,mBAI5BmE,EAJ4B,KAIjBC,EAJiB,KA4EpC,OAtD2BD,EAwB1B,yBAAKxE,UAAU,oBACd,yBAAKA,UAAU,oBACd,4BAAQA,UAAU,gBAAgBI,QAAS,kBA1C3B,WAClBqE,GAAa,GACb,IAAIqB,EAAU,CACb1C,IAAKpG,EAAMsH,IACXC,KAAMA,EACNJ,QAASA,EACTL,WAAY8B,GAEb5I,EAAM+I,eAAeD,GAkC8BN,KAChD,uBAAGxF,UAAU,kBAGf,2BACCG,KAAK,OACLH,UAAU,iBACVT,MAAOgF,EACPjD,SAAU,SAACC,GAAD,OAAWmE,EAAQnE,EAAMC,OAAOjC,UAE3C,6BACA,8BACCY,KAAK,WACLH,UAAU,aACVT,MAAO4E,EACP7C,SAAU,SAACC,GAAD,OA9CY,SAACyE,GACzB,IAAIC,EAAaD,EAAWE,MAAM,IAAK,GACvCP,EAAWM,GA4CYE,CAAiB5E,EAAMC,OAAOjC,UAEpD,6BACA,2BACCY,KAAK,OACLH,UAAU,iBACVT,MAAO,mBAAqBqG,EAC5BtE,SAAU,SAACC,GAAD,OACTsE,EAAWtE,EAAMC,OAAOjC,MAAMgC,EAAMC,OAAOjC,MAAM0E,OAAS,QAhD7D,yBAAKjE,UAAU,oBACbhD,EAAMkD,aACN,yBAAKF,UAAU,oBACd,4BAAQA,UAAU,gBAAgBI,QAAS,kBAAMqE,GAAa,KAC7D,uBAAGzE,UAAU,gBAEd,4BACCA,UAAU,kBACVI,QAAS,kBAAMpD,EAAMoJ,eAAepJ,EAAMsH,OAC1C,uBAAGtE,UAAU,uBAGb,IACH,wBAAIA,UAAU,YAAYuE,GAC1B,wBAAIvE,UAAU,gBACZmE,EAAQC,KAAI,SAACiC,EAAQ/B,GAAT,OACZ,wBAAIlB,IAAKkB,EAAKtE,UAAU,gBACvB,yBAAKA,UAAU,gBAAgBqG,YCkErC,IAEe5G,KAFG,SAACP,GAAD,QAAgBA,IAEnBO,EA1Gf,SAA8BzC,GAC7B,IAAM0E,EAAUC,cAAYC,SACtB0E,EAAStJ,EAAM8E,QAAQC,QAC5B,SAACC,GAAD,OAASA,EAAI1B,KAAK2B,gBAAkBP,EAAQO,iBAC3C,GACIsE,EAAWD,EAAOlD,IALY,EAOA/C,oBAAS,GAPT,mBAO5BmE,EAP4B,KAOjBC,EAPiB,OAQJpE,mBAAS,aARL,mBAQ5ByF,EAR4B,KAQnBU,EARmB,OASNnG,mBAAS,CAAE,OAAQ,OAAQ,OAAQ,SAT7B,mBAS5BoG,EAT4B,KASpBC,EAToB,OAUErG,mBAAS,KAVX,mBAU5BsG,EAV4B,KAUhBC,EAVgB,OAWAvG,mBAASiG,EAAOzE,WAXhB,mBAW5BA,EAX4B,KAWjBgF,EAXiB,KAa9Bd,EAAiB,SAACD,GACvB9I,EAAM+I,eAAeQ,EAAUT,IAG1BM,EAAiB,SAAC9B,GACvBuC,EAAahF,EAAUE,QAAO,SAACwC,GAAD,OAAUA,EAAKnB,KAAOkB,MACpDtH,EAAMoJ,eAAeG,EAAUjC,IAwB1BwC,EAAgBjF,EAAUuC,KAAI,SAACG,GAAD,OACnC,kBAAC,EAAD,CACCnB,IAAKmB,EAAKnB,IACVkB,IAAKC,EAAKnB,IACVmB,KAAMA,EAAKA,KACXJ,QAASI,EAAKJ,QACdyB,QAASrB,EAAKT,WACd5D,YAAalD,EAAMkD,YACnB6F,eAAgBA,EAChBK,eAAgBA,OAIZW,EACL/J,EAAMkD,cAAgBsE,EACrB,4BAAQxE,UAAU,mBAAmBI,QAAS,kBAAMqE,GAAa,KAAjE,oBAIA,yBAAKzE,UAAU,oBACd,yBAAKA,UAAU,oBACd,4BAAQA,UAAU,gBAAgBI,QAtClB,WACnB,IAMI6C,EAAO,CANO,CACjBG,IAAKkD,EAAOU,QACZ7C,QAASsC,EACT3C,WAAY6C,EACZpC,KAAMuB,IAEI,mBAAqBjE,IAChCgF,EAAa5D,GACbjG,EAAMiK,YAAYV,EAAUtD,GAC5BQ,QAAQC,IAAIT,GACZwB,GAAa,GACbmC,EAAc,KACdJ,EAAW,aACXE,EAAU,CAAE,OAAQ,OAAQ,OAAQ,WAyBhC,uBAAG1G,UAAU,kBAGf,2BACCG,KAAK,OACLH,UAAU,iBACVT,MAAOuG,EACPxE,SAAU,SAACC,GAAD,OAAWiF,EAAWjF,EAAMC,OAAOjC,UAE9C,6BACA,8BACCY,KAAK,WACLH,UAAU,aACVT,MAAOkH,EACPnF,SAAU,SAACC,GAAD,OA1DW,SAACyE,GACzB,IAAIC,EAAaD,EAAWE,MAAM,IAAK,GACvCQ,EAAUT,GAwDcE,CAAiB5E,EAAMC,OAAOjC,UAEpD,6BACA,2BACCY,KAAK,OACLH,UAAU,iBACVT,MAAO,mBAAqBoH,EAC5BrF,SAAU,SAACC,GAAD,OACTqF,EAAcrF,EAAMC,OAAOjC,MAAMgC,EAAMC,OAAOjC,MAAM0E,OAAS,QAKlE,OACC,yBAAKjE,UAAU,kBACd,wBAAIA,UAAU,qBAAd,uBAAuD0B,GACvD,kBAAC,IAAD,CAAMzB,GAAE,WAAMyB,EAAQO,cAAd,SAAoCjC,UAAU,aAAtD,wCAGC+G,EACAD,M,oOC3DJ,IAEerH,KAFG,SAACP,GAAD,QAAgBA,IAEnBO,EA5Cf,SAAsBzC,GAAQ,IAAD,EACAqD,mBAAS,IADT,mBACpB5B,EADoB,KACbyI,EADa,KAG5B1E,qBAAU,WACTxF,EAAME,SAASqB,GACbyC,WAAW,SACX+B,MACAhC,MAAK,SAAUiC,GACf,IAAIC,EAAU,GACdD,EAAcE,SAAQ,SAAUC,GAE/BF,EAAQpD,K,yVAAR,EAAeuD,IAAKD,EAAIE,IAAOF,EAAIG,YAEpC4D,EAASjE,MAGT7B,OAAM,SAAUV,GAChB+C,QAAQC,IAAI,4BAA6BhD,QAEzC,IAEH+C,QAAQC,IAAIjF,GACZ,IAAM0I,EAAY1I,EAAM2F,KAAI,SAAC/F,GAAD,OAC3B,wBAAI2B,UAAU,aACb,qCAAW3B,EAAKiC,MAChB,sCAAYjC,EAAKR,OACjB,2CAAiBQ,EAAK8C,eAIxB,OACC,yBAAKnB,UAAU,mBACd,wBAAIoH,MAAM,iBAAV,SACG3I,GAA0B,IAAjBA,EAAMwF,OACjB,wBAAIjE,UAAU,cAAcmH,GAE5B,iB,oOCqMWpI,SAhOf,SAAc/B,GAAQ,IAAD,EACYqD,mBAAS,MADrB,mBACZgH,EADY,KACHC,EADG,OAEsBjH,oBAAS,GAF/B,mBAEZkH,EAFY,KAEGC,EAFH,OAGgBnH,oBAAS,GAHzB,mBAGZoH,EAHY,KAGDC,EAHC,OAIoBrH,oBAAS,GAJ7B,mBAIZH,EAJY,KAICyH,EAJD,KAMpBnF,qBACC,WACC,IAAIoF,EAAW5K,EAAME,SAASa,KAAK8E,YAC/B+E,GACH5K,EAAME,SAASqB,GACbyC,WAAW,SACX+B,MACAhC,MAAK,SAAUiC,GACfA,EAAcE,SAAQ,SAAUC,GAE9BA,EAAIG,OAAOzF,QAAU+J,EAAS/J,QACP,IAAvBsF,EAAIG,OAAOpC,SAEXyG,GAAe,GACflE,QAAQC,IAAI,qBAGZP,EAAIG,OAAOzF,QAAU+J,EAAS/J,QACP,IAAvBsF,EAAIG,OAAOpC,UAEXyG,GAAe,GACflE,QAAQC,IAAI,4BAMlB,CAAE1G,EAAME,SAASa,KAAK8E,cAGvBL,qBACC,WACgB,MAAX6E,GAAiBG,GAAe,GACpCxK,EAAME,SAASqB,GACbyC,WAAW,cACX+B,MACAhC,MAAK,SAAUiC,GACf,IAAIC,EAAU,GACdD,EAAcE,SAAQ,SAAUC,GAE/BF,EAAQpD,K,yVAAR,EAAeuD,IAAKD,EAAIE,IAAOF,EAAIG,YAEpCL,EAAUA,EAAQ4E,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAExH,KAAK0H,cAAcD,EAAEzH,SACxDmD,QAAQC,IAAIT,GACZqE,EAAWrE,GACXuE,GAAe,MAEfpG,OAAM,SAAUV,GAChB+C,QAAQC,IAAI,4BAA6BhD,QAG5C,CAAE+G,IAGH,IAAM7C,EAAkB,WACvB8C,GAAa,SAACO,GAAD,OAAcA,MAGtBxC,EAAS,SAACyC,GACflL,EAAME,SAASqB,GAAGyC,WAAW,cAAcC,IAAI,CAC9CX,KAAM4H,EACNrG,UAAW,KAEZ+C,KAGKqC,EAAc,SAACtC,EAAO9C,GAC3B,IAAIsG,EACJd,EAAQtF,QAAO,SAACC,GAMf,OALIA,EAAIoB,MAAQuB,IACf3C,EAAIH,UAAYA,EAChBG,EAAIgF,UACJmB,EAASnG,GAEHA,KAERmG,EAAS,CACR7H,KAAM6H,EAAO7H,KACb0G,QAASmB,EAAOnB,QAChBnF,UAAWsG,EAAOtG,WAEnB4B,QAAQC,IAAI,cAAeyE,GAC3BnL,EAAME,SAASqB,GACbyC,WAAW,cACXmC,IAAIwB,GACJyD,IAAID,GACJpH,MAAK,WACL0C,QAAQC,IAAI,kCACZkB,OAEAxD,OAAM,SAAUV,GAChB+C,QAAQ/C,MAAM,2BAA4BA,OAIvC0F,EAAiB,SAACzB,EAAO0D,GAC9B,IAAIF,EACJd,EAAQtF,QAAO,SAACC,GACXA,EAAIoB,MAAQuB,IACf3C,EAAIH,UAAYG,EAAIH,UAAUE,QAAO,SAACwC,GAAD,OAAUA,EAAKnB,KAAOiF,KAC3DF,EAASnG,MAGXmG,EAAS,CACR7H,KAAM6H,EAAO7H,KACb0G,QAASmB,EAAOnB,QAChBnF,UAAWsG,EAAOtG,WAEnB4B,QAAQC,IAAI,iBAAkByE,GAC9BnL,EAAME,SAASqB,GACbyC,WAAW,cACXmC,IAAIwB,GACJyD,IAAID,GACJpH,MAAK,WACL0C,QAAQC,IAAI,kCACZkB,OAEAxD,OAAM,SAAUV,GAChB+C,QAAQ/C,MAAM,2BAA4BA,OAIvCqF,EAAiB,SAACpB,EAAOmB,GAC9B,IAAIqC,EACJd,EAAQtF,QAAO,SAACC,GACXA,EAAIoB,MAAQuB,IACf3C,EAAIH,UAAYG,EAAIH,UAAUuC,KAAI,SAACG,GAClC,OAAIA,EAAKnB,MAAQ0C,EAAQ1C,IAAY0C,EACzBvB,KAEb4D,EAASnG,MAGXmG,EAAS,CACR7H,KAAM6H,EAAO7H,KACb0G,QAASmB,EAAOnB,QAChBnF,UAAWsG,EAAOtG,WAEnB4B,QAAQC,IAAI,iBAAkByE,GAC9BnL,EAAME,SAASqB,GACbyC,WAAW,cACXmC,IAAIwB,GACJyD,IAAID,GACJpH,MAAK,WACL0C,QAAQC,IAAI,kCACZkB,OAEAxD,OAAM,SAAUV,GAChB+C,QAAQ/C,MAAM,2BAA4BA,OAI7C,OACC,kBAAC,IAAD,KACC,kBAAC,EAAD,CAAQR,YAAaA,IACrB,yBAAKF,UAAU,OACZuH,EAwDD,4CAvDA,kBAAC,IAAD,KACC,kBAAC,IAAD,CACCe,OAAK,EACLC,KAAMzI,EACN0I,OAAQ,SAACC,GAAD,OACP,kBAAC,EAAD,eACC3G,QAASuF,EACTnH,YAAaA,EACbuF,OAAQA,EACRb,gBAAiBA,GACb6D,OAIP,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAMzI,EAAgB4I,UAAWC,IAC9C,kBAAC,IAAD,CACCL,OAAK,EACLC,KAAMzI,EACN0I,OAAQ,SAACC,GAAD,OACP,kBAAC,EAAD,eAAWd,eAAgBA,GAAoBc,OAGjD,kBAAC,IAAD,CACCH,OAAK,EACLC,KAAMzI,EACN4I,UAAWE,EACXJ,OAAQ,SAACC,GAAD,OACP,kBAAC,EAAD,eAAOvI,YAAaA,GAAiBuI,OAGvC,kBAAC,IAAD,CACCH,OAAK,EACLC,KAAMzI,EACN0I,OAAQ,SAACC,GAAD,OACP,kBAAC,EAAD,eACC3G,QAASuF,EACTnH,YAAaA,EACb+G,YAAaA,EACbb,eAAgBA,EAChBL,eAAgBA,EAChBnB,gBAAiBA,GACb6D,OAIP,kBAAC,IAAD,CACCH,OAAK,EACLC,KAAMzI,EACN0I,OAAQ,SAACC,GAAD,OACP,kBAAC,EAAD,eAAM3G,QAASuF,GAAaoB,OAG9B,kBAAC,IAAD,CAAOF,KAAMzI,EAAa4I,UAAWG,UCzNvBC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCVNC,IAASX,OACR,kBAAC,EAAgBlJ,SAAjB,CAA0BC,MAAO,IAAI5B,GACpC,kBAAC,EAAD,OAEDyL,SAASC,eAAe,SDqHnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzI,MAAK,SAAA0I,GACjCA,EAAaC,kB","file":"static/js/main.04479592.chunk.js","sourcesContent":["//FOR USER\r\nexport const HOME = \"/\";\r\nexport const SIGN_UP = \"/signup\";\r\nexport const LOG_IN = \"/login\";\r\nexport const QUESTIONS = \"/:category\";\r\nexport const GAME = \"/:category/game\";\r\n\r\n//FOR DESIGNER\r\nexport const PORTAL_HOME = \"/portal/\";\r\nexport const PORTAL_USERS = \"/users\";\r\nexport const PORTAL_QUESTION = \"/portal/questions\";\r\n","import React, { createContext } from \"react\";\r\n\r\nconst FirebaseContext = createContext(null);\r\n\r\nexport const withFirebase = (Component) => (props) => (\r\n\t<FirebaseContext.Consumer>\r\n\t\t{(firebase) => <Component {...props} firebase={firebase} />}\r\n\t</FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;\r\n","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor () {\r\n\t\tapp.initializeApp(config);\r\n\t\tthis.auth = app.auth();\r\n\t\tthis.db = app.firestore();\r\n\t}\r\n\r\n\tdoCreateUserWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n\tdoSignInWithEmailAndPassword = (email, password) =>\r\n\t\tthis.auth.signInWithEmailAndPassword(email, password);\r\n\r\n\tdoSignOut = () => this.auth.signOut();\r\n\r\n\tuser = (uid) => this.db.ref(`users/${uid}`);\r\n\tusers = () => this.db.ref(\"users\");\r\n}\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from \"./context\";\r\nimport Firebase from \"./firebase\";\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };\r\n","import { createContext } from \"react\";\r\nconst AuthUserContext = createContext(null);\r\n\r\nexport default AuthUserContext;\r\n","import React from \"react\";\r\n\r\nimport AuthUserContext from \"./context\";\r\nimport { withFirebase } from \"../Firebase\";\r\n\r\nconst withAuthentication = (Component) => {\r\n\tclass WithAuthentication extends React.Component {\r\n\t\tconstructor (props) {\r\n\t\t\tsuper(props);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tauthUser: null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcomponentDidMount () {\r\n\t\t\tthis.listener = this.props.firebase.auth.onAuthStateChanged(\r\n\t\t\t\t(authUser) => {\r\n\t\t\t\t\tauthUser\r\n\t\t\t\t\t\t? this.setState({ authUser })\r\n\t\t\t\t\t\t: this.setState({ authUser: null });\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount () {\r\n\t\t\tthis.listener();\r\n\t\t}\r\n\r\n\t\trender () {\r\n\t\t\treturn (\r\n\t\t\t\t<AuthUserContext.Provider value={this.state.authUser}>\r\n\t\t\t\t\t<Component {...this.props} />\r\n\t\t\t\t</AuthUserContext.Provider>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport AuthUserContext from \"./context\";\r\nimport { withFirebase } from \"../Firebase\";\r\nimport * as ROUTES from \"../../Constants/Routes\";\r\n\r\nconst withAuthorization = (condition) => (Component) => {\r\n\tclass WithAuthorization extends React.Component {\r\n\t\tcomponentDidMount () {\r\n\t\t\tthis.listener = this.props.firebase.auth.onAuthStateChanged(\r\n\t\t\t\t(authUser) => {\r\n\t\t\t\t\tif (!condition(authUser)) {\r\n\t\t\t\t\t\tthis.props.history.push(ROUTES.LOG_IN);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount () {\r\n\t\t\tthis.listener();\r\n\t\t}\r\n\r\n\t\trender () {\r\n\t\t\treturn (\r\n\t\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t\t{(authUser) =>\r\n\t\t\t\t\t\tcondition(authUser) ? <Component {...this.props} /> : null}\r\n\t\t\t\t</AuthUserContext.Consumer>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn withRouter(withFirebase(WithAuthorization));\r\n};\r\n\r\nexport default withAuthorization;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport * as ROUTES from \"../Constants/Routes\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport { AuthUserContext } from \"./Session\";\r\nimport \"./Styles/Navbar.css\";\r\n\r\nfunction Navbar (props) {\r\n\treturn (\r\n\t\t<nav className=\"navbar\">\r\n\t\t\t<ul className=\"navbar-list\">\r\n\t\t\t\t<li className=\"navbar-item logo\">\r\n\t\t\t\t\t<Link to={ROUTES.HOME} className=\"navbar-link\">\r\n\t\t\t\t\t\tQUIZ UP\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t{props.userIsAdmin && (\r\n\t\t\t\t\t<li className=\"navbar-item\">\r\n\t\t\t\t\t\t<Link to={ROUTES.PORTAL_USERS} className=\"show-user-btn\">\r\n\t\t\t\t\t\t\tShow Users\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}{\" \"}\r\n\t\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t\t{(authUser) =>\r\n\t\t\t\t\t\tauthUser && (\r\n\t\t\t\t\t\t\t<li className=\"navbar-item\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" onClick={props.firebase.doSignOut}>\r\n\t\t\t\t\t\t\t\t\tLog Out\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</AuthUserContext.Consumer>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nexport default withFirebase(Navbar);\r\n","import React, { useState } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport * as ROUTES from \"../Constants/Routes\";\r\nimport \"./Styles/Form.css\";\r\n\r\nfunction SignUpForm (props) {\r\n\tconst [ name, setName ] = useState(\"\");\r\n\tconst [ email, setEmail ] = useState(\"\");\r\n\tconst [ password, setPassword ] = useState(\"\");\r\n\tconst [ error, setError ] = useState(null);\r\n\r\n\tfunction addUser () {\r\n\t\tprops.firebase.db\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.add({\r\n\t\t\t\tname,\r\n\t\t\t\temail,\r\n\t\t\t\tisAdmin: false,\r\n\t\t\t\thighScore: 0\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetName(\"\");\r\n\t\t\t\tsetEmail(\"\");\r\n\t\t\t\tsetPassword(\"\");\r\n\t\t\t\tprops.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction submitForm (e) {\r\n\t\te.preventDefault();\r\n\t\tprops.firebase\r\n\t\t\t.doCreateUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(addUser())\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"form-wrapper\">\r\n\t\t\t<h1 className=\"form-heading\">Sign Up</h1>\r\n\t\t\t<form onSubmit={submitForm} className=\"form login\">\r\n\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t<i className=\"fas fa-user\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t<i className=\"fas fa-envelope\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t<i className=\"fas fa-key\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(event) => setPassword(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"form-btn\" type=\"submit\">\r\n\t\t\t\t\tSign Up\r\n\t\t\t\t</button>\r\n\t\t\t\t{error && <p className=\"form-error\">{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t\t<h4>Already have and account? Log In:</h4>\r\n\t\t\t<Link to={ROUTES.LOG_IN}>Log In</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(withFirebase(SignUpForm));\r\n","import React, { useState } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport * as ROUTES from \"../Constants/Routes\";\r\nimport \"./Styles/Form.css\";\r\n\r\nfunction LogInForm (props) {\r\n\tconst [ email, setEmail ] = useState(\"\");\r\n\tconst [ password, setPassword ] = useState(\"\");\r\n\tconst [ error, setError ] = useState(null);\r\n\r\n\tfunction submitForm (e) {\r\n\t\tprops.firebase\r\n\t\t\t.doSignInWithEmailAndPassword(email, password)\r\n\t\t\t.then((authUser) => {\r\n\t\t\t\tsetEmail(\"\");\r\n\t\t\t\tsetPassword(\"\");\r\n\t\t\t\tprops.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError(error);\r\n\t\t\t});\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"form-wrapper\">\r\n\t\t\t<h1 className=\"form-heading\">Log In</h1>\r\n\t\t\t<form onSubmit={submitForm} className=\"form login\">\r\n\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t<i className=\"fas fa-envelope\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t<i className=\"fas fa-key\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(event) => setPassword(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"form-btn\" type=\"submit\">\r\n\t\t\t\t\tLog In\r\n\t\t\t\t</button>\r\n\t\t\t\t{error && <p className=\"form-error\">{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t\t<h4>Don't have an account? Sign Up:</h4>\r\n\t\t\t<Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(withFirebase(LogInForm));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { withAuthorization } from \"./Session\";\r\nimport * as ROUTES from \"../Constants/Routes\";\r\nimport \"./Styles/Game.css\";\r\n\r\nfunction Game (props) {\r\n\tconst currCtg = useParams().category;\r\n\tconst questions = props.ctgList.filter(\r\n\t\t(ctg) => ctg.name.toLowerCase() === currCtg.toLowerCase()\r\n\t)[0].questions;\r\n\r\n\tconst [ time, setTime ] = useState(60);\r\n\tconst [ score, setScore ] = useState(0);\r\n\tconst [ currQues, setCurrQues ] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tvar myTimer = setInterval(() => {\r\n\t\t\tsetTime((old) => old - 1);\r\n\t\t}, 1000);\r\n\r\n\t\treturn () => clearInterval(myTimer);\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (time <= -3) props.history.push(ROUTES.HOME);\r\n\t\t\telse if (time <= 0) {\r\n\t\t\t\tvar user = props.firebase.auth.currentUser;\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tupdateUserData(user);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ time ]\r\n\t);\r\n\r\n\tconst updateUserData = (user) => {\r\n\t\tprops.firebase.db\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.get()\r\n\t\t\t.then(function (querySnapshot) {\r\n\t\t\t\tvar newList = [];\r\n\t\t\t\tquerySnapshot.forEach(function (doc) {\r\n\t\t\t\t\tnewList.push({ key: doc.id, ...doc.data() });\r\n\t\t\t\t});\r\n\t\t\t\tnewList = newList.filter((item) => item.email === user.email);\r\n\t\t\t\tif (newList[0].highScore < score) updateDocument(newList[0].key);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error getting documents: \", error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst updateDocument = (documentId) => {\r\n\t\tprops.firebase.db.collection(\"users\").doc(documentId).update({\r\n\t\t\thighScore: score\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleClick = (e) => {\r\n\t\tif (e.target.name === questions[currQues].correctAns) {\r\n\t\t\tsetScore((oldScore) => oldScore + 10);\r\n\t\t}\r\n\t\tchangeQuestion();\r\n\t};\r\n\r\n\tconst changeQuestion = () => {\r\n\t\tif (currQues === questions.length - 1) setCurrQues(0);\r\n\t\telse setCurrQues((old) => old + 1);\r\n\t};\r\n\r\n\tconst answersList = questions[currQues].answers.map((ans, idx) => (\r\n\t\t<button onClick={handleClick} key={idx} name={idx} className=\"answer\">\r\n\t\t\t{ans}\r\n\t\t</button>\r\n\t));\r\n\r\n\treturn time > 0 ? (\r\n\t\t<div className=\"game-container\">\r\n\t\t\t<div className=\"info-container\">\r\n\t\t\t\t<h2 className=\"time\">Remaining Time: {time}s</h2>\r\n\t\t\t\t<h2 className=\"score\">Score: {score}</h2>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"question\">{questions[currQues].ques}</div>\r\n\t\t\t<div className=\"answer-container\">{answersList}</div>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"game-container\">\r\n\t\t\t<h2 className=\"score\">Score: {score}</h2>\r\n\t\t\t<div className=\"question\">GAME OVER!</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst condition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(condition)(Game);\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport \"./Styles/Category.css\";\r\n\r\nfunction CategoryItem (props) {\r\n\tconst [ name, setName ] = useState(props.name);\r\n\tconst [ isEditing, setIsEditing ] = useState(false);\r\n\r\n\tconst deleteItem = () => {\r\n\t\tprops.firebase.db.collection(\"categories\").doc(props.docId).delete();\r\n\t\tprops.toggleFetchData();\r\n\t};\r\n\r\n\tconst updateItem = () => {\r\n\t\tif (name !== props.name)\r\n\t\t\tprops.firebase.db.collection(\"categories\").doc(props.docId).update({\r\n\t\t\t\tname\r\n\t\t\t});\r\n\t\tsetIsEditing(false);\r\n\t\tprops.toggleFetchData();\r\n\t};\r\n\r\n\tconst nameInput = isEditing ? (\r\n\t\t<input\r\n\t\t\ttype=\"text\"\r\n\t\t\tclassName=\"name-input\"\r\n\t\t\tvalue={name}\r\n\t\t\tonChange={(event) => setName(event.target.value)}\r\n\t\t\tonBlur={() => updateItem()}\r\n\t\t\tonKeyDown={(event) => {\r\n\t\t\t\tif (event.keyCode === 13) updateItem();\r\n\t\t\t}}\r\n\t\t\tautoFocus\r\n\t\t/>\r\n\t) : (\r\n\t\t<h2 className=\"name\">{name}</h2>\r\n\t);\r\n\r\n\tconst linktoCatOptions = props.userIsAdmin\r\n\t\t? `/${props.name.toLowerCase()}`\r\n\t\t: `/${props.name.toLowerCase()}/game`;\r\n\r\n\treturn (\r\n\t\t<li className=\"category-item\">\r\n\t\t\t<Link className=\"category-link\" to={linktoCatOptions}>\r\n\t\t\t\t{nameInput}\r\n\t\t\t</Link>\r\n\t\t\t{props.userIsAdmin && (\r\n\t\t\t\t<div className=\"actions\">\r\n\t\t\t\t\t<button className=\"edit\" onClick={() => setIsEditing(true)}>\r\n\t\t\t\t\t\t<i className=\"fas fa-pen\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"delete\" onClick={deleteItem}>\r\n\t\t\t\t\t\t<i className=\"fas fa-trash-alt\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default withFirebase(CategoryItem);\r\n","import React, { useState } from \"react\";\r\n\r\nimport CategoryItem from \"./CategoryItem\";\r\nimport { withAuthorization } from \"./Session\";\r\nimport \"./Styles/Category.css\";\r\n\r\nfunction CategoryList (props) {\r\n\tconst [ showForm, setShowForm ] = useState(false);\r\n\tconst [ name, setName ] = useState(\"\");\r\n\r\n\tconst allCategories = props.ctgList.map((item) => (\r\n\t\t<CategoryItem\r\n\t\t\tkey={item.key}\r\n\t\t\tdocId={item.key}\r\n\t\t\tname={item.name}\r\n\t\t\tuserIsAdmin={props.userIsAdmin}\r\n\t\t\ttoggleFetchData={props.toggleFetchData}\r\n\t\t/>\r\n\t));\r\n\r\n\tconst submitForm = () => {\r\n\t\tsetShowForm(false);\r\n\t\tprops.addCtg(name);\r\n\t\tsetName(\"\");\r\n\t};\r\n\r\n\tlet newCtgForm;\r\n\tif (props.userIsAdmin && showForm) {\r\n\t\tnewCtgForm = (\r\n\t\t\t<li className=\"category-item\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"name-input\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tonChange={(event) => setName(event.target.value)}\r\n\t\t\t\t\tonBlur={submitForm}\r\n\t\t\t\t\tonKeyDown={(event) => {\r\n\t\t\t\t\t\tif (event.keyCode === 13) {\r\n\t\t\t\t\t\t\tsubmitForm();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"actions\">\r\n\t\t\t\t\t<button className=\"edit\" onClick={submitForm}>\r\n\t\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n\telse if (props.userIsAdmin && !showForm) {\r\n\t\tnewCtgForm = (\r\n\t\t\t<button onClick={() => setShowForm(true)} className=\"category-addnew\">\r\n\t\t\t\tAdd New\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"category-wrapper\">\r\n\t\t\t<h1 className=\"category-heading\">Categories</h1>\r\n\t\t\t<ul className=\"category-list\">{allCategories}</ul>\r\n\t\t\t{newCtgForm}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst condition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(condition)(CategoryList);\r\n","import React, { useState } from \"react\";\r\n\r\nimport { withFirebase } from \"./Firebase\";\r\nimport \"./Styles/Questions.css\";\r\n\r\nfunction PortalQuestionsItem (props) {\r\n\tconst [ ques, setQues ] = useState(props.ques);\r\n\tconst [ answers, setAnswers ] = useState(props.answers);\r\n\tconst [ corrAns, setCorrAns ] = useState(props.corrAns);\r\n\tconst [ isEditing, setIsEditing ] = useState(false);\r\n\r\n\tconst submitForm = () => {\r\n\t\tsetIsEditing(false);\r\n\t\tlet newQues = {\r\n\t\t\tkey: props.idx,\r\n\t\t\tques: ques,\r\n\t\t\tanswers: answers,\r\n\t\t\tcorrectAns: corrAns\r\n\t\t};\r\n\t\tprops.updateQuestion(newQues);\r\n\t};\r\n\r\n\tconst makeAnswersArray = (fullString) => {\r\n\t\tlet newAnswers = fullString.split(\",\", 4);\r\n\t\tsetAnswers(newAnswers);\r\n\t};\r\n\r\n\tconst completeComponent = !isEditing ? (\r\n\t\t<div className=\"question-wrapper\">\r\n\t\t\t{props.userIsAdmin && (\r\n\t\t\t\t<div className=\"question-actions\">\r\n\t\t\t\t\t<button className=\"question-edit\" onClick={() => setIsEditing(true)}>\r\n\t\t\t\t\t\t<i className=\"fas fa-pen\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"question-delete\"\r\n\t\t\t\t\t\tonClick={() => props.deleteQuestion(props.idx)}>\r\n\t\t\t\t\t\t<i className=\"fas fa-trash-alt\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}{\" \"}\r\n\t\t\t<h2 className=\"question\">{ques}</h2>\r\n\t\t\t<ul className=\"answers-list\">\r\n\t\t\t\t{answers.map((answer, idx) => (\r\n\t\t\t\t\t<li key={idx} className=\"answers-item\">\r\n\t\t\t\t\t\t<div className=\"answers-link\">{answer}</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"question-wrapper\">\r\n\t\t\t<div className=\"question-actions\">\r\n\t\t\t\t<button className=\"question-edit\" onClick={() => submitForm()}>\r\n\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclassName=\"question-input\"\r\n\t\t\t\tvalue={ques}\r\n\t\t\t\tonChange={(event) => setQues(event.target.value)}\r\n\t\t\t/>\r\n\t\t\t<hr />\r\n\t\t\t<textarea\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\tclassName=\"name-input\"\r\n\t\t\t\tvalue={answers}\r\n\t\t\t\tonChange={(event) => makeAnswersArray(event.target.value)}\r\n\t\t\t/>\r\n\t\t\t<hr />\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclassName=\"question-input\"\r\n\t\t\t\tvalue={\"Correct Answer: \" + corrAns}\r\n\t\t\t\tonChange={(event) =>\r\n\t\t\t\t\tsetCorrAns(event.target.value[event.target.value.length - 1])}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn completeComponent;\r\n}\r\n\r\nexport default withFirebase(PortalQuestionsItem);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport PortalQuestionsItem from \"./PortalQuestionsItem\";\r\nimport { withAuthorization } from \"./Session\";\r\nimport \"./Styles/Questions.css\";\r\n\r\nfunction PortalQuestionsList (props) {\r\n\tconst currCtg = useParams().category;\r\n\tconst ctgDoc = props.ctgList.filter(\r\n\t\t(ctg) => ctg.name.toLowerCase() === currCtg.toLowerCase()\r\n\t)[0];\r\n\tconst ctgDocId = ctgDoc.key;\r\n\r\n\tconst [ isEditing, setIsEditing ] = useState(false);\r\n\tconst [ newQues, setNewQues ] = useState(\"Question?\");\r\n\tconst [ newAns, setNewAns ] = useState([ \"ans1\", \"ans2\", \"ans3\", \"ans4\" ]);\r\n\tconst [ newCorrAns, setNewCorrAns ] = useState(\"0\");\r\n\tconst [ questions, setQuestions ] = useState(ctgDoc.questions);\r\n\r\n\tconst updateQuestion = (newQues) => {\r\n\t\tprops.updateQuestion(ctgDocId, newQues);\r\n\t};\r\n\r\n\tconst deleteQuestion = (idx) => {\r\n\t\tsetQuestions(questions.filter((ques) => ques.key != idx));\r\n\t\tprops.deleteQuestion(ctgDocId, idx);\r\n\t};\r\n\tconst makeAnswersArray = (fullString) => {\r\n\t\tlet newAnswers = fullString.split(\",\", 4);\r\n\t\tsetNewAns(newAnswers);\r\n\t};\r\n\r\n\tconst addQuestion = () => {\r\n\t\tlet newQuestion = {\r\n\t\t\tkey: ctgDoc.nextKey,\r\n\t\t\tanswers: newAns,\r\n\t\t\tcorrectAns: newCorrAns,\r\n\t\t\tques: newQues\r\n\t\t};\r\n\t\tlet newList = [ newQuestion, ...questions ];\r\n\t\tsetQuestions(newList);\r\n\t\tprops.addQuestion(ctgDocId, newList);\r\n\t\tconsole.log(newList);\r\n\t\tsetIsEditing(false);\r\n\t\tsetNewCorrAns(\"0\");\r\n\t\tsetNewQues(\"Question?\");\r\n\t\tsetNewAns([ \"ans1\", \"ans2\", \"ans3\", \"ans4\" ]);\r\n\t};\r\n\r\n\tconst questionsList = questions.map((ques) => (\r\n\t\t<PortalQuestionsItem\r\n\t\t\tkey={ques.key}\r\n\t\t\tidx={ques.key}\r\n\t\t\tques={ques.ques}\r\n\t\t\tanswers={ques.answers}\r\n\t\t\tcorrAns={ques.correctAns}\r\n\t\t\tuserIsAdmin={props.userIsAdmin}\r\n\t\t\tupdateQuestion={updateQuestion}\r\n\t\t\tdeleteQuestion={deleteQuestion}\r\n\t\t/>\r\n\t));\r\n\r\n\tconst newQuesForm =\r\n\t\tprops.userIsAdmin && !isEditing ? (\r\n\t\t\t<button className=\"questions-addnew\" onClick={() => setIsEditing(true)}>\r\n\t\t\t\tAdd New Question\r\n\t\t\t</button>\r\n\t\t) : (\r\n\t\t\t<div className=\"question-wrapper\">\r\n\t\t\t\t<div className=\"question-actions\">\r\n\t\t\t\t\t<button className=\"question-edit\" onClick={addQuestion}>\r\n\t\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"question-input\"\r\n\t\t\t\t\tvalue={newQues}\r\n\t\t\t\t\tonChange={(event) => setNewQues(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\tclassName=\"name-input\"\r\n\t\t\t\t\tvalue={newAns}\r\n\t\t\t\t\tonChange={(event) => makeAnswersArray(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName=\"question-input\"\r\n\t\t\t\t\tvalue={\"Correct Answer: \" + newCorrAns}\r\n\t\t\t\t\tonChange={(event) =>\r\n\t\t\t\t\t\tsetNewCorrAns(event.target.value[event.target.value.length - 1])}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"questions-list\">\r\n\t\t\t<h2 className=\"questions-heading\">Questions Stored in {currCtg}</h2>\r\n\t\t\t<Link to={`/${currCtg.toLowerCase()}/game`} className=\"play-game\">\r\n\t\t\t\tClick to Play Game for this Category\r\n\t\t\t</Link>\r\n\t\t\t{newQuesForm}\r\n\t\t\t{questionsList}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst condition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(condition)(PortalQuestionsList);\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { withAuthorization } from \"./Session\";\r\nimport \"./Styles/Users.css\";\r\n\r\nfunction PortalUsers (props) {\r\n\tconst [ users, setUsers ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.firebase.db\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.get()\r\n\t\t\t.then(function (querySnapshot) {\r\n\t\t\t\tvar newList = [];\r\n\t\t\t\tquerySnapshot.forEach(function (doc) {\r\n\t\t\t\t\t// console.log(doc.id, \" => \", doc.data());\r\n\t\t\t\t\tnewList.push({ key: doc.id, ...doc.data() });\r\n\t\t\t\t});\r\n\t\t\t\tsetUsers(newList);\r\n\t\t\t\t// console.log(newList);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error getting documents: \", error);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconsole.log(users);\r\n\tconst usersList = users.map((user) => (\r\n\t\t<li className=\"user-item\">\r\n\t\t\t<h3>Name: {user.name}</h3>\r\n\t\t\t<h3>Email: {user.email}</h3>\r\n\t\t\t<h3>High Score: {user.highScore}</h3>\r\n\t\t</li>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"users-container\">\r\n\t\t\t<h1 class=\"users-heading\">Users</h1>\r\n\t\t\t{!!users && users.length !== 0 ? (\r\n\t\t\t\t<ul className=\"users-list\">{usersList}</ul>\r\n\t\t\t) : (\r\n\t\t\t\t\"LOADING...\"\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst condition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(condition)(PortalUsers);\r\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\nimport Navbar from \"./Components/Navbar\";\nimport SignUpForm from \"./Components/SignUpForm\";\nimport LogInForm from \"./Components/LogInForm\";\nimport Game from \"./Components/Game\";\nimport CategoryList from \"./Components/CategoryList\";\nimport PortalQuestionsList from \"./Components/PortalQuestionsList\";\nimport Users from \"./Components/PortalUsers\";\nimport * as ROUTES from \"./Constants/Routes\";\nimport { withAuthentication } from \"./Components/Session\";\nimport \"./App.css\";\n\nfunction App (props) {\n\tconst [ allData, setAllData ] = useState(null);\n\tconst [ isDataLoading, setDataLoading ] = useState(false);\n\tconst [ fetchData, setFetchData ] = useState(false);\n\tconst [ userIsAdmin, setUserIsAdmin ] = useState(false);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tlet currUser = props.firebase.auth.currentUser;\n\t\t\tif (currUser) {\n\t\t\t\tprops.firebase.db\n\t\t\t\t\t.collection(\"users\")\n\t\t\t\t\t.get()\n\t\t\t\t\t.then(function (querySnapshot) {\n\t\t\t\t\t\tquerySnapshot.forEach(function (doc) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdoc.data().email === currUser.email &&\n\t\t\t\t\t\t\t\tdoc.data().isAdmin === true\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsetUserIsAdmin(true);\n\t\t\t\t\t\t\t\tconsole.log(\"ADMIN LOGGED IN!\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\t\tdoc.data().email === currUser.email &&\n\t\t\t\t\t\t\t\tdoc.data().isAdmin === false\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsetUserIsAdmin(false);\n\t\t\t\t\t\t\t\tconsole.log(\"USER LOGGED IN!\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[ props.firebase.auth.currentUser ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (allData == null) setDataLoading(true);\n\t\t\tprops.firebase.db\n\t\t\t\t.collection(\"categories\")\n\t\t\t\t.get()\n\t\t\t\t.then(function (querySnapshot) {\n\t\t\t\t\tvar newList = [];\n\t\t\t\t\tquerySnapshot.forEach(function (doc) {\n\t\t\t\t\t\t// console.log(doc.id, \" => \", doc.data());\n\t\t\t\t\t\tnewList.push({ key: doc.id, ...doc.data() });\n\t\t\t\t\t});\n\t\t\t\t\tnewList = newList.sort((a, b) => a.name.localeCompare(b.name));\n\t\t\t\t\tconsole.log(newList);\n\t\t\t\t\tsetAllData(newList);\n\t\t\t\t\tsetDataLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tconsole.log(\"Error getting documents: \", error);\n\t\t\t\t});\n\t\t},\n\t\t[ fetchData ]\n\t);\n\n\tconst toggleFetchData = () => {\n\t\tsetFetchData((oldData) => !oldData);\n\t};\n\n\tconst addCtg = (newItemName) => {\n\t\tprops.firebase.db.collection(\"categories\").add({\n\t\t\tname: newItemName,\n\t\t\tquestions: []\n\t\t});\n\t\ttoggleFetchData();\n\t};\n\n\tconst addQuestion = (docId, questions) => {\n\t\tlet newDoc;\n\t\tallData.filter((ctg) => {\n\t\t\tif (ctg.key === docId) {\n\t\t\t\tctg.questions = questions;\n\t\t\t\tctg.nextKey++;\n\t\t\t\tnewDoc = ctg;\n\t\t\t}\n\t\t\treturn ctg;\n\t\t});\n\t\tnewDoc = {\n\t\t\tname: newDoc.name,\n\t\t\tnextKey: newDoc.nextKey,\n\t\t\tquestions: newDoc.questions\n\t\t};\n\t\tconsole.log(\"addQuestion\", newDoc);\n\t\tprops.firebase.db\n\t\t\t.collection(\"categories\")\n\t\t\t.doc(docId)\n\t\t\t.set(newDoc)\n\t\t\t.then(function () {\n\t\t\t\tconsole.log(\"Document successfully written!\");\n\t\t\t\ttoggleFetchData();\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\t});\n\t};\n\n\tconst deleteQuestion = (docId, queskey) => {\n\t\tlet newDoc;\n\t\tallData.filter((ctg) => {\n\t\t\tif (ctg.key === docId) {\n\t\t\t\tctg.questions = ctg.questions.filter((ques) => ques.key != queskey);\n\t\t\t\tnewDoc = ctg;\n\t\t\t}\n\t\t});\n\t\tnewDoc = {\n\t\t\tname: newDoc.name,\n\t\t\tnextKey: newDoc.nextKey,\n\t\t\tquestions: newDoc.questions\n\t\t};\n\t\tconsole.log(\"deleteQuestion\", newDoc);\n\t\tprops.firebase.db\n\t\t\t.collection(\"categories\")\n\t\t\t.doc(docId)\n\t\t\t.set(newDoc)\n\t\t\t.then(function () {\n\t\t\t\tconsole.log(\"Document successfully written!\");\n\t\t\t\ttoggleFetchData();\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\t});\n\t};\n\n\tconst updateQuestion = (docId, newQues) => {\n\t\tlet newDoc;\n\t\tallData.filter((ctg) => {\n\t\t\tif (ctg.key === docId) {\n\t\t\t\tctg.questions = ctg.questions.map((ques) => {\n\t\t\t\t\tif (ques.key === newQues.key) return newQues;\n\t\t\t\t\telse return ques;\n\t\t\t\t});\n\t\t\t\tnewDoc = ctg;\n\t\t\t}\n\t\t});\n\t\tnewDoc = {\n\t\t\tname: newDoc.name,\n\t\t\tnextKey: newDoc.nextKey,\n\t\t\tquestions: newDoc.questions\n\t\t};\n\t\tconsole.log(\"updateQuestion\", newDoc);\n\t\tprops.firebase.db\n\t\t\t.collection(\"categories\")\n\t\t\t.doc(docId)\n\t\t\t.set(newDoc)\n\t\t\t.then(function () {\n\t\t\t\tconsole.log(\"Document successfully written!\");\n\t\t\t\ttoggleFetchData();\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(\"Error writing document: \", error);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<HashRouter>\n\t\t\t<Navbar userIsAdmin={userIsAdmin} />\n\t\t\t<div className=\"App\">\n\t\t\t\t{!isDataLoading ? (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={ROUTES.HOME}\n\t\t\t\t\t\t\trender={(routeProps) => (\n\t\t\t\t\t\t\t\t<CategoryList\n\t\t\t\t\t\t\t\t\tctgList={allData}\n\t\t\t\t\t\t\t\t\tuserIsAdmin={userIsAdmin}\n\t\t\t\t\t\t\t\t\taddCtg={addCtg}\n\t\t\t\t\t\t\t\t\ttoggleFetchData={toggleFetchData}\n\t\t\t\t\t\t\t\t\t{...routeProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path={ROUTES.SIGN_UP} component={SignUpForm} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={ROUTES.LOG_IN}\n\t\t\t\t\t\t\trender={(routeProps) => (\n\t\t\t\t\t\t\t\t<LogInForm setUserIsAdmin={setUserIsAdmin} {...routeProps} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={ROUTES.PORTAL_USERS}\n\t\t\t\t\t\t\tcomponent={Users}\n\t\t\t\t\t\t\trender={(routeProps) => (\n\t\t\t\t\t\t\t\t<Users userIsAdmin={userIsAdmin} {...routeProps} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={ROUTES.QUESTIONS}\n\t\t\t\t\t\t\trender={(routeProps) => (\n\t\t\t\t\t\t\t\t<PortalQuestionsList\n\t\t\t\t\t\t\t\t\tctgList={allData}\n\t\t\t\t\t\t\t\t\tuserIsAdmin={userIsAdmin}\n\t\t\t\t\t\t\t\t\taddQuestion={addQuestion}\n\t\t\t\t\t\t\t\t\tdeleteQuestion={deleteQuestion}\n\t\t\t\t\t\t\t\t\tupdateQuestion={updateQuestion}\n\t\t\t\t\t\t\t\t\ttoggleFetchData={toggleFetchData}\n\t\t\t\t\t\t\t\t\t{...routeProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={ROUTES.GAME}\n\t\t\t\t\t\t\trender={(routeProps) => (\n\t\t\t\t\t\t\t\t<Game ctgList={allData} {...routeProps} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path={ROUTES.HOME} component={CategoryList} />\n\t\t\t\t\t</Switch>\n\t\t\t\t) : (\n\t\t\t\t\t<h2>LOADING DATA</h2>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</HashRouter>\n\t);\n}\nexport default withAuthentication(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport Firebase, { FirebaseContext } from \"./Components/Firebase\";\n\nReactDOM.render(\n\t<FirebaseContext.Provider value={new Firebase()}>\n\t\t<App />\n\t</FirebaseContext.Provider>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}